[user]
	name = Jonathan Coates
{{#if git_email}}
	email = {{git_email}}
{{/if}}
[push]
	default = simple
[credential]
	helper = store
[alias]
	graph = log --decorate --oneline --graph
	giff = diff HEAD
	unstage = reset -q HEAD --
	discard = checkout --
	plot = log --graph --abbrev-commit --decorate --date=relative --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(bold yellow)%d%C(reset)'
	plota = log --graph --abbrev-commit --decorate --date=relative --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(bold yellow)%d%C(reset)' --all
	fixup = commit --amend --no-edit --date=now
	update = fetch --all --prune --multiple

	# https://www.erikschierboom.com/2020/02/17/cleaning-up-local-git-branches-deleted-on-a-remote/
	gone = !"git update && git for-each-ref --format '%(refname:short) %(upstream:track)' | awk '$2 == \"[gone]\" {print $1}' | xargs -r git branch -D"
[core]
	autocrlf = input
	pager = less -+X -FR
	sshCommand = ssh -o ControlMaster=auto -o ControlPath=~/.ssh/sockets/%r@%h-%p -o ControlPersist=600
[color]
	ui = auto
[color "diff"]
	meta = yellow bold
	commit = green bold
	frag = magenta bold
	old = red bold
	new = green bold
	whitespace = red reverse
[color "diff-highlight"]
	oldNormal = red bold
	oldHighlight = "red bold 52"
	newNormal = "green bold"
	newHighlight = "green bold 22"
[color "status"]
	untracked = cyan
[diff]
	compactionHeuristic = true
[pager]
	status = false
	branch = false
[pull]
	rebase = true
[fetch]
	parallel = 0
{{#if git_send_email}}
[sendemail]
	smtpencryption = tls
	smtpserver = squiddev.cc
	smtpserverport = 465
	smtpuser = {{ git_send_email }}
{{/if}}

{{#if git_gpg}}
[commit]
	gpgsign = true
{{/if}}

{{#if git_includes}}
[include]
{{#each git_includes}}
	path = {{this}}
{{/each}}
{{/if}}
